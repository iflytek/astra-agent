<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter
    xmlns="https://github.com/spotbugs/filter/3.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="https://github.com/spotbugs/filter/3.0.0 https://raw.githubusercontent.com/spotbugs/spotbugs/3.1.0/spotbugs/etc/findbugsfilter.xsd">

    <!-- Exclude certain checks for test classes -->
    <Match>
        <Class name="~.*Test.*"/>
        <Bug pattern="DM_EXIT,DM_RUN_FINALIZERS_ON_EXIT"/>
    </Match>

    <!-- Exclude equals and hashcode related checks -->
    <Match>
        <Bug pattern="EQ_DOESNT_OVERRIDE_EQUALS,HE_EQUALS_USE_HASHCODE,HE_HASHCODE_USE_OBJECT_EQUALS,EQ_OVERRIDING_EQUALS_NOT_SYMMETRIC"/>
    </Match>

    <!-- Exclude Spring related static field checks -->
    <Match>
        <Bug pattern="ST_WRITE_TO_STATIC_FROM_INSTANCE_METHOD,MS_SHOULD_BE_FINAL"/>
    </Match>

    <!-- Exclude warnings for ignoring exceptions in auth RefreshTokenService.withRefreshLock -->
    <Match>
        <Class name="service.com.iflytek.astra.console.auth.RefreshTokenService"/>
        <Method name="withRefreshLock"/>
        <Bug pattern="DE_MIGHT_IGNORE"/>
    </Match>

    <Match>
        <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD"/>
    </Match>

    <!-- Exclude internal representation exposure checks -->
    <Match>
        <Bug pattern="EI_EXPOSE_REP,EI_EXPOSE_REP2"/>
    </Match>

    <!-- Exclude confusing naming checks -->
    <Match>
        <Bug pattern="NM_CONFUSING"/>
    </Match>

    <!-- Exclude possible null pointer checks -->
<!--    <Match>-->
<!--        <Bug pattern="NP_NULL_ON_SOME_PATH,NP_LOAD_OF_KNOWN_NULL_VALUE,RCN_REDUNDANT_NULLCHECK_WOULD_HAVE_BEEN_A_NPE"/>-->
<!--    </Match>-->

    <!-- Exclude serialization related checks -->
<!--    <Match>-->
<!--        <Bug pattern="SE_BAD_FIELD,SE_NO_SERIALVERSIONID,SE_TRANSIENT_FIELD_NOT_RESTORED"/>-->
<!--    </Match>-->

    <!-- Exclude string related checks -->
    <Match>
        <Bug pattern="DM_CONVERT_CASE,DM_STRING_TOSTRING"/>
    </Match>

    <!-- Exclude performance related checks -->
<!--    <Match>-->
<!--        <Bug pattern="DM_BOXED_PRIMITIVE_FOR_PARSING,DM_BOXED_PRIMITIVE_TOSTRING,DM_NUMBER_CTOR"/>-->
<!--    </Match>-->

    <!-- Exclude thread safety related checks -->
<!--    <Match>-->
<!--        <Bug pattern="IS_FIELD_NOT_GUARDED,DC_DOUBLECHECK,ML_SYNC_ON_UPDATED_FIELD"/>-->
<!--    </Match>-->

    <!-- Exclude exception handling related checks -->
    <Match>
        <Bug pattern="REC_CATCH_EXCEPTION"/>
    </Match>

    <!-- Exclude return value checks -->
<!--    <Match>-->
<!--        <Bug pattern="RV_RETURN_VALUE_IGNORED,RV_RETURN_VALUE_IGNORED_NO_SIDE_EFFECT"/>-->
<!--    </Match>-->


    <!-- Exclude switch statement checks -->
<!--    <Match>-->
<!--        <Bug pattern="SF_SWITCH_FALLTHROUGH,SF_SWITCH_NO_DEFAULT"/>-->
<!--    </Match>-->

    <!-- Exclude finalizer related checks -->
<!--    <Match>-->
<!--        <Bug pattern="FI_EMPTY,FI_EXPLICIT_INVOCATION,FI_FINALIZER_NULLS_FIELDS"/>-->
<!--    </Match>-->


    <!-- Exclude SpaceInfoUtil static state exposure check -->
    <Match>
        <Class name="com.iflytek.astra.console.commons.util.space.SpaceInfoUtil"/>
        <Method name="init"/>
        <Bug pattern="EI_EXPOSE_STATIC_REP2"/>
    </Match>

</FindBugsFilter>